
【完善/优化】v2.0
一、数据显示
1）数据显示方式：分类/分页/全部
2）数据查询：输入字符快速检索/表设计优化
3）数据操作：行头添加删除头
4）状态栏显示内容
5）记录用删除或修改的重要数据到log/数据库
6）删除数据时，备份/数据库的备份
7）接口传输数据的最大值测试
8）接口对接问题/权限
9）防反编译
10）接口文档完善
11）数据库自动备份，数据库管理/优化

二、权限管理
1）权限分配

三、性能
1）优化初次启动：接口第一次调用速度
2）优化查询速率
3) 模拟大数据效率

【BUG】
已修复  2）追溯过站，没有数据时未显示列信息
已修复  3)修改产品型号后，部分表工艺名称未修改
已修复  4）修改产品型号后，工艺数据被全部清除
已修复  5）清除log数据，未完成
已修复  6）物料计数问题：搜索时计数多了不一致
已完成  7）隐藏通用配置的打包配置参数
已完成  8）显示序号调整
已完成  9）log记录也显示到外壳列
已修复  10）没有外壳工站时，追溯显示无产品型号
已修复  12）将绑定的PCBA解绑，用新的PCBA与旧的外壳绑定时，将PCBA在恢复时，新绑定的被解绑掉了
已修复  13)查询log数据时，根据工站查询时，有重复数据
无处理  14）跳过外壳装配工站时，支架装配时添加绑定，绑定信息中PCBASN传入为空，只有外壳SN
无处理  15）当PCBA经过成品测试通过后，并未打包，此时若将其解绑，是否要将其算入打包中
	        处理方法：将解绑后的PCB，不打包进入箱子中
无处理  16）当合格装箱的产品，抽检不合格时，解除与箱子的绑定关系，是否也解除PCB与外壳的绑定关系
无处理  16）当某一产品型号的PCB测试过站后，修改或新增产品型号，测试之前的同一块PCB的过站显示问题（现象：修改型号后未重新测试PCB也能显示过站记录）；同一块PCB只能对应同一个型号
17）根据外壳装配工站查询的外壳编码长度，如跳站外壳时，将读取失败
18）保存配置报错，文件占用

【需求修改】
已完成	1）显示log数据显示方式调整--按照工站先后顺序显示
已完成  2）测试项添加一列
已完成  3）PCBA解除绑定界面增加维修完成的功能
已完成  5）查询过站记录：第一个站，默认通过，工艺流程中，如果没有外壳装配工站/支架装配工站时，即是PCBA没有完成绑定关系，当查询有装配时的下一站的上一站时，赋值查询结果为PASS
已完成  6）已修改为，当保存当前工站的配置时，生成或保存到当前工艺目录下
已完成  7）新增用户类型超级管理员管理MES，管理员管理产线
已完成  8）开放登录接口给测试台，增删改查
已完成  9）测试序列：每个工站的每个产品一个序列，写入MES配置文件
已完成  10）修改产品名称后更新所有与修改型号相关的数据，记录不做修改，只改配置相关
已完成  12）工位有去掉的情况，追溯的时候，两行显示（现已有，待验证）
未完成  13）当序列号过长时，可能会显示不全
无处理  14）添加物料低位预警配置
无处理	15）物料防错时，返回具体数量：剩余数量、预警提示
已完成  16）当只有外壳码时，根据SN长度判断是外壳还是PCBA，用于界面显示
已完成  17）当修改产品名称后，对工艺或产品的名称要同步修改/同时修改机台配置的文件名
已完成  18）产品型号名称修改后，不更新数据记录中的型号
无处理  19）库存管理，新增批量出库：分类显示在线库存与退库库存
已完成  20）机台配置：增加单位、必填校验
已完成  21）将物料某一管控去掉：上一箱物料未使用完成，不能继续使用下一箱
已完成  22）新增一键结单，所有/可选

【新发现待定】
已修复  1）当跳站后数据的显示：当同一块板子在第某一个站测试FAIL后，将此工站删除掉，继续到下一个工站测试，最终结果的计算以后面为最终计算结果
无处理  2）当PCBA解绑后，再恢复正常时，若直接到外壳装配工站重新绑定，存在隐患（修复后的PCB是否还能正常过前面的站），应从起始站位从新开始
无处理  3）log显示到一行，排序问题
已完成  4）当PCBA无装配工站时，数据显示时，分行显示，其计算结果的计算规分开计算
未完成  5）服务器贴一个标签显示固定工站名称
无处理  6）新增接口：用于成品测试查询当前外壳SN的状态是否正常，如果异常，则不用打包

【部分重要参数描述】
一、修改库存：修改值为实际值
1）当理论值大于实际值
	当找不到多余的物料时，会去修改库存，check使用数量是否大于等于入库库存，更新状态为2
2）当理论值小于实际值
	当系统提示不足时（已更新状态为2），而实际还有数量
	会去修改库存，更新状态为1
二、物料格式
内容：A19083100008&S2.118&1.2.11.111&20&20190831&1T20190831001
格式：RID&SID&PN&QTY$DC&LOT
三、工艺流程
描述：工艺与产品型号一一对应，工艺名称=产品型号

过站记录只显示最新记录，查询流程：
1）先查询当前生产线配置了几种产品
2）根据配置的产品型号与对应工艺的站位顺序依次查询最新的记录
3）在根据最新过站记录SN查询对应的外壳码
4）查询该产品最新记录的各个工位的结果，计算最终结果
5）根据SN查询工位测试项
过站详细记录，查询流程：
1）查询过站历史
2）根据每条记录查询对应的测试项以及绑定的外壳码